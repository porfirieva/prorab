import './catalog.sass'
import {url} from "./specialEuipmentCatalog";
import {useEffect, useState} from "react";
import {NavLink} from "react-router-dom";


const CategoryProducts = props => {
    const [isDisplayed, setIsDisplayed] = useState(false);

    useEffect(() => {
      setInterval(() => {
            setIsDisplayed(true);
        }, 600);

    }, [])

    const activeLike = (event) => {
        event.target.classList.toggle('active');
        if(event.target.matches('svg') || event.target.matches('path')){
            event.currentTarget.parentElement.classList.toggle('active')
        }
    }

    const MarkZero = <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M22.0612 7.83071H22.057H15.5825L13.5794 1.63989C13.3467 0.919871 12.6788 0.432434 11.9255 0.432434C11.9255 0.432434 11.9255 0.432434 11.925 0.432434C11.1717 0.432434 10.5042 0.920264 10.2711 1.64028L8.27061 7.83068H1.79362C1.03988 7.83068 0.372342 8.31851 0.139228 9.03901C-0.0934951 9.75899 0.161726 10.5482 0.771527 10.9934L6.01199 14.8188L4.01109 21.0088C3.7784 21.7292 4.03362 22.5184 4.64294 22.9636C4.94785 23.186 5.30665 23.2973 5.66548 23.2973C6.02431 23.2973 6.3831 23.1859 6.68799 22.9636L11.9281 19.1372L17.1703 22.9635C17.4752 23.1859 17.8335 23.2972 18.1924 23.2972C18.5512 23.2972 18.91 23.1858 19.2149 22.9631C19.8247 22.5179 20.0795 21.7287 19.8463 21.0083L17.8433 14.8171L23.0434 11.0194C23.4995 10.704 23.7984 10.1764 23.7984 9.57894C23.7984 8.61348 23.0217 7.83071 22.0612 7.83071Z" fill="#B0A9A9"/></svg>

    return(


        <div className="equipment__box">
            {props.categoryProd.map((item, i) =>
                <div key={item.id} className="technique__wrap">
                    { isDisplayed &&
                    <div className="technique__block">

                        {item.user.mark !== null && <div className="rating">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                 viewBox="0 0 24 24" fill="none">
                                <path
                                    d="M22.0612 7.83071H22.057H15.5825L13.5794 1.63989C13.3467 0.919871 12.6788 0.432434 11.9255 0.432434C11.9255 0.432434 11.9255 0.432434 11.925 0.432434C11.1717 0.432434 10.5042 0.920264 10.2711 1.64028L8.27061 7.83068H1.79362C1.03988 7.83068 0.372342 8.31851 0.139228 9.03901C-0.0934951 9.75899 0.161726 10.5482 0.771527 10.9934L6.01199 14.8188L4.01109 21.0088C3.7784 21.7292 4.03362 22.5184 4.64294 22.9636C4.94785 23.186 5.30665 23.2973 5.66548 23.2973C6.02431 23.2973 6.3831 23.1859 6.68799 22.9636L11.9281 19.1372L17.1703 22.9635C17.4752 23.1859 17.8335 23.2972 18.1924 23.2972C18.5512 23.2972 18.91 23.1858 19.2149 22.9631C19.8247 22.5179 20.0795 21.7287 19.8463 21.0083L17.8433 14.8171L23.0434 11.0194C23.4995 10.704 23.7984 10.1764 23.7984 9.57894C23.7984 8.61348 23.0217 7.83071 22.0612 7.83071Z"
                                    fill="#F9B023"/>
                            </svg>
                            {item.user.mark}
                        </div>}

                        {item.user.mark === null && <div className="rating"> {MarkZero} </div>}

                        <button
                            className='like'
                            onClick={activeLike}
                        >
                            <svg onClick={activeLike} xmlns="http://www.w3.org/2000/svg" width="19" height="16"
                                 viewBox="0 0 19 16" fill="none">
                                <path
                                    d="M9.09271 15.1749C9.09368 15.174 9.09465 15.1731 9.09561 15.1721C9.19499 15.0782 9.29724 14.989 9.37924 14.9181C9.39458 14.9049 9.40872 14.8927 9.42173 14.8814C9.48539 14.8265 9.52203 14.7948 9.53969 14.7778C9.53998 14.7775 9.54027 14.7772 9.54054 14.7769L9.09271 15.1749ZM9.09271 15.1749C9.09153 15.1738 9.09035 15.1726 9.08916 15.1715C8.98955 15.0777 8.88706 14.9885 8.80486 14.9176C8.7892 14.9041 8.77478 14.8917 8.76154 14.8803C8.69841 14.8259 8.66189 14.7945 8.6441 14.7774C8.10976 14.2509 7.56033 13.7458 7.00607 13.2545C6.45315 12.764 5.84024 12.2722 5.23412 11.7858C4.80788 11.4438 4.38501 11.1044 3.98871 10.7702C2.99821 9.9347 2.09329 9.06939 1.41025 8.06719C1.1222 7.64239 0.881551 7.1004 0.716121 6.58682C0.178335 4.90062 0.654311 2.85389 2.00372 1.76626L2.00389 1.76612C3.92763 0.21419 5.58378 0.34388 6.76265 0.81902C7.36754 1.06282 7.85939 1.40424 8.20162 1.68768C8.37191 1.82872 8.50287 1.95352 8.58987 2.04144C8.63331 2.08535 8.6656 2.11988 8.68618 2.14243C8.69647 2.1537 8.70381 2.16196 8.70814 2.16687L8.71197 2.17125L8.71227 2.1716L8.71235 2.1717L8.7125 2.17187L8.71274 2.17215L9.09309 2.61975L9.47332 2.17204L9.47356 2.17177L9.47371 2.17159L9.47379 2.1715L9.47409 2.17115L9.47792 2.16677C9.48225 2.16185 9.48958 2.1536 9.49986 2.14233C9.52043 2.11978 9.55271 2.08525 9.59612 2.04135C9.68306 1.95342 9.81395 1.82864 9.98416 1.68759C10.3262 1.40416 10.8178 1.06274 11.4224 0.81893C12.6007 0.343785 14.2563 0.213956 16.1798 1.76567C17.5265 2.85397 18.0025 4.90145 17.4672 6.58817L17.4669 6.58905C17.3065 7.09753 17.0611 7.64058 16.7729 8.06807C16.0918 9.06975 15.1872 9.93476 14.1969 10.7702C13.803 11.1024 13.3833 11.4393 12.9604 11.7789C12.3519 12.2673 11.7367 12.7612 11.1819 13.2543L9.09271 15.1749Z"
                                    stroke="#C4C4C4"/>
                            </svg>
                        </button>

                        <div className="img">
                            <img src={url + item.image} alt=""/>
                        </div>
                        <div className="content">
                            <div className="title_box">
                                <h3 className="title">{item.name}</h3>

                                {item.status_busy === 1 ?
                                    <div className="status notactive">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                             viewBox="0 0 18 18" fill="none">
                                            <path
                                                d="M9 0C7.21997 0 5.47991 0.527841 3.99987 1.51677C2.51983 2.50571 1.36628 3.91131 0.685088 5.55585C0.00389956 7.20038 -0.17433 9.00998 0.172936 10.7558C0.520203 12.5016 1.37737 14.1053 2.63604 15.364C3.89471 16.6226 5.49836 17.4798 7.24419 17.8271C8.99002 18.1743 10.7996 17.9961 12.4442 17.3149C14.0887 16.6337 15.4943 15.4802 16.4832 14.0001C17.4722 12.5201 18 10.78 18 9C17.9858 6.61742 17.0331 4.33646 15.3483 2.65169C13.6635 0.966929 11.3826 0.0141683 9 0ZM13.275 9.9H9C8.76131 9.9 8.53239 9.80518 8.36361 9.63639C8.19482 9.46761 8.1 9.23869 8.1 9V4.554C8.1 4.3153 8.19482 4.08639 8.36361 3.9176C8.53239 3.74882 8.76131 3.654 9 3.654C9.2387 3.654 9.46762 3.74882 9.6364 3.9176C9.80518 4.08639 9.9 4.3153 9.9 4.554V8.1H13.275C13.5137 8.1 13.7426 8.19482 13.9114 8.3636C14.0802 8.53238 14.175 8.7613 14.175 9C14.175 9.23869 14.0802 9.46761 13.9114 9.63639C13.7426 9.80518 13.5137 9.9 13.275 9.9Z"
                                                fill="#6FE1B8"/>
                                        </svg>
                                        Скоро освободится
                                    </div> :
                                    <div className="status active">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                             viewBox="0 0 18 18" fill="none">
                                            <path
                                                d="M9 0C7.21997 0 5.47991 0.527841 3.99987 1.51677C2.51983 2.50571 1.36628 3.91131 0.685088 5.55585C0.00389956 7.20038 -0.17433 9.00998 0.172936 10.7558C0.520203 12.5016 1.37737 14.1053 2.63604 15.364C3.89471 16.6226 5.49836 17.4798 7.24419 17.8271C8.99002 18.1743 10.7996 17.9961 12.4442 17.3149C14.0887 16.6337 15.4943 15.4802 16.4832 14.0001C17.4722 12.5201 18 10.78 18 9C17.9858 6.61742 17.0331 4.33646 15.3483 2.65169C13.6635 0.966929 11.3826 0.0141683 9 0ZM13.275 9.9H9C8.76131 9.9 8.53239 9.80518 8.36361 9.63639C8.19482 9.46761 8.1 9.23869 8.1 9V4.554C8.1 4.3153 8.19482 4.08639 8.36361 3.9176C8.53239 3.74882 8.76131 3.654 9 3.654C9.2387 3.654 9.46762 3.74882 9.6364 3.9176C9.80518 4.08639 9.9 4.3153 9.9 4.554V8.1H13.275C13.5137 8.1 13.7426 8.19482 13.9114 8.3636C14.0802 8.53238 14.175 8.7613 14.175 9C14.175 9.23869 14.0802 9.46761 13.9114 9.63639C13.7426 9.80518 13.5137 9.9 13.275 9.9Z"
                                                fill="#6FE1B8"/>
                                        </svg>
                                        Свободно сегодня
                                    </div>
                                }
                            </div>
                            <div className="radio_box">
                                <div className="radio">
                                    <input type="radio" name={'radio' + i} id={'radio' + i} defaultChecked />
                                    <label htmlFor={'radio' + i}>
                                        <h5>{item.price_1} ₽ </h5>
                                        <span>час</span>
                                    </label>
                                </div>
                                <div className="radio">
                                    <input type="radio" id={'radioSub' + i} name={'radio' + i}/>
                                    <label htmlFor={'radioSub' + i}>
                                        <h5>{item.price_2} ₽ </h5>
                                        <span>смена</span>
                                    </label>
                                </div>
                            </div>
                            <h5 className="h5">Характеристики</h5>
                            <p className="text">{item.about}</p>
                            <NavLink to={`/cart/${item.id}`} className="btn">Подать заявку</NavLink>
                        </div>
                    </div>
                    }
                </div>
            )}
        </div>


    )
}

export default CategoryProducts;